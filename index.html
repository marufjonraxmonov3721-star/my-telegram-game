<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Crypto Millionaire RM</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root { --main-gold: #ffcc00; --bg-dark: #08080a; --card-bg: #14141a; }
        body { margin: 0; background: var(--bg-dark); color: white; font-family: 'Inter', sans-serif; overflow: hidden; user-select: none; }
        
        .header { padding: 20px; text-align: center; background: linear-gradient(to bottom, #1a1a20, var(--bg-dark)); }
        .balance-box { font-size: 3.5rem; font-weight: 800; color: var(--main-gold); text-shadow: 0 0 20px rgba(255, 204, 0, 0.4); }
        
        .main-game { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 60vh; }
        .coin-btn { width: 240px; height: 240px; background: url('https://cdn-icons-png.flaticon.com/512/2585/2585040.png') no-repeat center; background-size: contain; border: none; outline: none; transition: transform 0.1s; cursor: pointer; }
        .coin-btn:active { transform: scale(0.9); }

        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 90%; margin: 0 auto; }
        .stat-card { background: var(--card-bg); padding: 15px; border-radius: 15px; border: 1px solid #222; text-align: center; }
        .stat-card span { display: block; color: #888; font-size: 0.8rem; }
        .stat-card b { font-size: 1.1rem; color: #fff; }

        .nav { position: fixed; bottom: 0; width: 100%; height: 75px; background: #111; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #222; }
        .nav-item { color: #555; display: flex; flex-direction: column; align-items: center; font-size: 0.75rem; text-decoration: none; }
        .nav-item.active { color: var(--main-gold); }

        .page { display: none; padding: 20px; height: 80vh; overflow-y: auto; }
        .active-page { display: block; }

        .buy-btn { background: var(--main-gold); color: black; border: none; padding: 12px; width: 100%; border-radius: 10px; font-weight: bold; margin-top: 10px; }
    </style>
</head>
<body>

    <div id="game" class="page active-page">
        <div class="header">
            <span>Sizning Boyligingiz:</span>
            <div class="balance-box" id="balance">0</div>
            <div style="color:#00ff00; font-size:0.9rem;">+<span id="per-sec">0</span>/sekuniga (Avto)</div>
        </div>

        <div class="main-game">
            <button class="coin-btn" onclick="tap(event)"></button>
        </div>

        <div class="stat-grid">
            <div class="stat-card"><span>Tap kuchi</span><b id="tap-val">1</b></div>
            <div class="stat-card"><span>Energiya</span><b id="energy">1000</b></div>
        </div>
    </div>

    <div id="shop" class="page">
        <h2>Fermani Kuchaytirish</h2>
        <div class="stat-card" style="margin-bottom:15px;">
            <h3>Video Karta (RTX 4090)</h3>
            <p>Har sekunda +5 ball keltiradi</p>
            <button class="buy-btn" onclick="buyGPU()">Sotib olish (1,500)</button>
        </div>
        <div class="stat-card">
            <h3>Mining hovuzi</h3>
            <p>Har bir tap +2 ball qo'shadi</p>
            <button class="buy-btn" onclick="buyTap()">Sotib olish (2,000)</button>
        </div>
    </div>

    <div id="tasks" class="page">
        <h2>Pul ishlash (Tasks)</h2>
        <div class="stat-card" style="display:flex; justify-content:space-between; align-items:center;">
            <span>Telegram kanalga a'zo bo'ling</span>
            <button onclick="window.open('https://t.me/kanal_nomi')" class="buy-btn" style="width:auto; margin:0;">5,000 bonus</button>
        </div>
    </div>

    <nav class="nav">
        <div class="nav-item active" onclick="show('game', this)"><i class="material-icons">monetization_on</i>O'yin</div>
        <div class="nav-item" onclick="show('shop', this)"><i class="material-icons">shopping_cart</i>Do'kon</div>
        <div class="nav-item" onclick="show('tasks', this)"><i class="material-icons">bolt</i>Vazifalar</div>
    </nav>

    <script>
        let balance = 0, tapPower = 1, autoPower = 0, energy = 1000;
        const tg = window.Telegram.WebApp;

        function tap(e) {
            if (energy > 0) {
                balance += tapPower;
                energy -= 1;
                updateUI();
                if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
            }
        }

        function updateUI() {
            document.getElementById('balance').innerText = Math.floor(balance).toLocaleString();
            document.getElementById('tap-val').innerText = tapPower;
            document.getElementById('energy').innerText = energy;
            document.getElementById('per-sec').innerText = autoPower;
        }

        function show(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.getElementById(id).classList.add('active-page');
            el.classList.add('active');
        }

        function buyGPU() {
            if (balance >= 1500) { balance -= 1500; autoPower += 5; updateUI(); }
        }

        function buyTap() {
            if (balance >= 2000) { balance -= 2000; tapPower += 2; updateUI(); }
        }

        setInterval(() => {
            balance += autoPower;
            if (energy < 1000) energy += 2;
            updateUI();
        }, 1000);

        tg.expand();
    </script>
</body>
</html>
